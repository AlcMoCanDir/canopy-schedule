<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Session 3 Schedule Builder</title>

<style>
/* BASE ------------------------------------------------- */
* { box-sizing: border-box; }

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: #f6f6f6;
}

.container {
    max-width: 1400px;
    margin: auto;
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
}

/* HEADER ---------------------------------------------- */
h1 {
    text-align: center;
    color: #2196F3;
    margin-bottom: 10px;
}

/* STUDENT ENTRY --------------------------------------- */
.student-info {
    text-align: center;
    margin-bottom: 20px;
}

.student-info input {
    padding: 8px;
    width: 280px;
    font-size: 14px;
    border-radius: 6px;
    border: 2px solid #4CAF50;
}

/* TABS ------------------------------------------------- */
.tabs {
    display: flex;
    gap: 10px;
    border-bottom: 2px solid #4CAF50;
    margin-bottom: 15px;
}

.tab {
    padding: 10px 18px;
    cursor: pointer;
    background: #ddd;
    border-radius: 8px 8px 0 0;
}

.tab.active {
    background: #4CAF50;
    color: white;
}

/* TAB CONTENT ----------------------------------------- */
.tab-content { display: none; }
.tab-content.active { display: block; }

/* FULL TABLE ------------------------------------------ */
.schedule-table {
    width: 100%;
    border-collapse: collapse;
}

.schedule-table th, .schedule-table td {
    border: 1px solid #ddd;
    padding: 7px;
    font-size: 11px;
    vertical-align: top;
}

.schedule-table th {
    background: #4CAF50;
    color: white;
}

.time-col {
    background: #2196F3;
    color: white;
    font-weight: bold;
    width: 110px;
    text-align: center;
}

.lunch-row td {
    text-align: center;
    background: #fff3cd;
    font-weight: bold;
}

/* SELECTION ITEMS ------------------------------------- */
.class-option {
    padding: 6px;
    margin-bottom: 3px;
    border-radius: 4px;
    display: flex;
    gap: 6px;
}

.class-option.commitment {
    background: #fff7ad;
    border-left: 4px solid gold;
}

.class-option.drop-in {
    background: #daf0ff;
    border-left: 4px solid #2196F3;
}

.class-option.private {
    background: #ffdede;
    border-left: 4px solid #d94b4b;
}

.class-checkbox {
    margin-top: 2px;
}

/* SELECTED LOOK */
.selected {
    border: 3px solid orange;
    background: #fff2d6;
}

/* ACTION BUTTONS -------------------------------------- */
.action-buttons {
    text-align: center;
    margin-top: 20px;
}

.action-btn {
    padding: 10px 22px;
    border: none;
    cursor: pointer;
    border-radius: 6px;
    margin: 0 6px;
    font-size: 15px;
}

.primary { background: #4CAF50; color: white; }
.secondary { background: #2196F3; color: white; }
.danger { background: #e53935; color: white; }

/* PRINT AREA FOR MY SCHEDULE -------------------------- */
.print-meta {
    font-size: 11px;
    text-align: right;
    margin-top: 6px;
    color: #444;
}

/* PRINT SETTINGS -------------------------------------- */
@media print {

    body { padding: 0; background: white; }

    .tabs,
    .action-buttons,
    .student-info,
    .legend,
    .sync-controls,
    .sync-status {
        display: none !important;
    }

    .class-checkbox {
        display: none !important;
    }

    .container {
        box-shadow: none;
        border: none;
        padding: 0;
        margin: 0;
    }

    table {
        width: 100%;
        zoom: 0.90; /* fits on letter page */
    }

    #footerPrintMeta {
        display: block !important;
        position: fixed;
        bottom: 10px;
        right: 20px;
        font-size: 11px;
    }
}
</style>
</head>

<body>

<div class="container">
    <h1>ðŸŒ³ Canopy Program - Session 3 Schedule Builder</h1>

    <div class="student-info">
        <label><strong>Name:</strong></label>
        <input type="text" id="studentName" placeholder="Enter student name">
    </div>

    <div class="tabs">
        <button class="tab active" onclick="switchTab('full')">ðŸ“… Full Schedule</button>
        <button class="tab" onclick="switchTab('mine')">âœ” My Schedule</button>
    </div>

    <!-- FULL SCHEDULE -->
    <div id="tab-full" class="tab-content active">
        <div id="scheduleContainer"></div>
    </div>

    <!-- MY SCHEDULE -->
    <div id="tab-mine" class="tab-content">
        <div id="selectedClassesList"></div>
        <div id="footerPrintMeta" style="display:none;"></div>
    </div>

    <div class="action-buttons">
        <button class="action-btn primary" onclick="saveToLocalStorage()">ðŸ’¾ Save</button>
        <button class="action-btn secondary" onclick="printMySchedule()">ðŸ–¨ Print My Schedule</button>
        <button class="action-btn secondary" onclick="printFullSchedule()">ðŸ–¨ Print Full Schedule</button>
        <button class="action-btn danger" onclick="clearSchedule()">ðŸ—‘ Reset All</button>
    </div>
</div>


<script>
/* Holds user selections */
let selected = {};

/* Fake rendering so the UI builds */
renderFullSchedule();
renderMySchedule();

/* TAB SWITCHING */
function switchTab(which) {
    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

    document.getElementById('tab-' + which).classList.add('active');
    event.target.classList.add('active');
}

/* PRINT FULL */
function printFullSchedule() {
    switchTab('full');
    setTimeout(() => window.print(), 150);
}

/* PRINT MINE */
function printMySchedule() {
    switchTab('mine');

    const name = document.getElementById('studentName').value.trim();
    const dateStr = new Date().toLocaleDateString();

    const meta = (name ? name + " " : "") + "Created " + dateStr;

    document.getElementById('footerPrintMeta').innerText = meta;

    setTimeout(() => window.print(), 150);
}

/* Save selections */
function saveToLocalStorage() {
    localStorage.setItem('studentName', document.getElementById('studentName').value);
}

/* Reset */
function clearSchedule() {
    if (!confirm('Clear all selections?')) return;
    selected = {};
    renderFullSchedule();
    renderMySchedule();
}

/* Stub so page loads */
function renderFullSchedule() {
    document.getElementById('scheduleContainer').innerHTML =
        "<div style='padding:20px;text-align:center;color:#555'>Schedule loads here...</div>";
}

function renderMySchedule() {
    document.getElementById('selectedClassesList').innerHTML =
        "<div style='padding:20px;text-align:center;color:#777'>No classes selected yet</div>";
}
</script>
</body>
</html>
